<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IoT Fleet Management - Carlos Alegr√≠a Toloza</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;900&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --glass-bg: rgba(15, 23, 42, 0.95);
            --accent-blue: #38bdf8;
            --accent-green: #34d399;
            --accent-red: #ff4757;
            --text-main: #ffffff;
            --text-dim: #94a3b8;
            --border: rgba(255, 255, 255, 0.1);
        }

        body {
            font-family: 'Inter', sans-serif;
            height: 100vh;
            overflow: hidden;
            background: #000;
        }

        .slide-wrapper { position: relative; width: 100%; height: 100%; }

        .slide {
            position: absolute; width: 100%; height: 100%;
            display: flex; align-items: center; justify-content: center;
            transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            background-size: cover; background-position: center;
            opacity: 0; visibility: hidden;
        }

        .slide.active { opacity: 1; visibility: visible; }

        /* Fondos por l√°mina */
        #s0 { background-image: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://images.unsplash.com/photo-1519003722824-194d4455a60c?q=80&w=2000'); }
        #s1 { background-image: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?q=80&w=2000'); }
        #s2 { background-image: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://images.unsplash.com/photo-1551434678-e076c223a692?q=80&w=2000'); }
        #s3 { background-image: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2000'); }
        #s4 { background-image: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?q=80&w=2000'); }

        .content-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            width: 85%; max-width: 1000px;
            padding: 50px; border-radius: 24px;
            box-shadow: 0 40px 100px rgba(0,0,0,0.8);
            border: 1px solid var(--border);
            text-align: center;
            color: var(--text-main);
            position: relative;
            overflow: hidden;
        }

        /* --- L√ÅMINA 0: PORTADA --- */
        .institution { font-weight: 800; text-transform: uppercase; color: var(--accent-blue); letter-spacing: 3px; font-size: 1.1rem; margin-bottom: 20px; }
        h1 { font-size: 3.5rem; font-weight: 900; line-height: 1.1; margin-bottom: 20px; }
        .meta-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; text-align: left; margin-top: 30px; }
        .meta-item b { color: var(--accent-blue); display: block; text-transform: uppercase; font-size: 0.75rem; }

        /* --- L√ÅMINA 1: PROBLEMAS --- */
        .problem-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin: 30px 0; }
        .problem-item { background: rgba(255,255,255,0.03); padding: 20px; border-radius: 15px; border: 1px solid rgba(255, 71, 87, 0.2); }
        .counter { font-size: 3rem; font-weight: 900; color: var(--accent-red); margin: 10px 0; }
        .counter::after { content: '%'; }
        .pulse { animation: pulse-red 2s infinite; }
        @keyframes pulse-red { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
        .chart-container { width: 100%; height: 80px; background: rgba(255, 255, 255, 0.05); position: relative; border-radius: 10px; overflow: hidden; }
        .falling-line { position: absolute; top: 20px; left: 0; width: 100%; height: 4px; background: var(--accent-red); animation: fall 4s infinite linear; }
        @keyframes fall { 0% { transform: translateY(0) rotate(0deg); width: 0; } 100% { transform: translateY(60px) rotate(5deg); width: 100%; } }

        /* --- L√ÅMINA 2: ARQUITECTURA --- */
        .flow-container { display: flex; align-items: center; justify-content: space-between; margin: 50px 0; }
        .connection-line { flex: 2; height: 4px; background: rgba(255,255,255,0.1); position: relative; margin: 0 20px; border-radius: 5px; }
        .data-packet { 
            position: absolute; width: 12px; height: 12px; background: var(--accent-blue); 
            border-radius: 50%; top: -4px; left: 0; box-shadow: 0 0 15px var(--accent-blue);
            animation: flowData 2s infinite linear;
        }
        @keyframes flowData { 0% { left: 0; opacity: 0; } 50% { opacity: 1; } 100% { left: 100%; opacity: 0; } }
        .security-shield { position: absolute; top: -45px; left: 50%; transform: translateX(-50%); font-size: 2.2rem; animation: shieldPulse 3s infinite; }
        @keyframes shieldPulse { 0%, 100% { opacity: 0.5; transform: translateX(-50%) scale(1); } 50% { opacity: 1; transform: translateX(-50%) scale(1.15); } }

        /* --- L√ÅMINA 3: INTELIGENCIA DE DATOS (S3) --- */
        .neural-container { display: flex; justify-content: space-around; align-items: center; margin: 40px 0; position: relative; min-height: 250px; }
        .brain-node { font-size: 6.5rem; z-index: 5; filter: drop-shadow(0 0 20px var(--accent-blue)); animation: brainPulse 4s infinite; }
        @keyframes brainPulse { 0%, 100% { transform: scale(1); opacity: 0.8; } 50% { transform: scale(1.1); opacity: 1; } }
        #data-particles-container { position: absolute; width: 100%; height: 100%; pointer-events: none; top: 0; left: 0; }
        .particle { position: absolute; width: 6px; height: 6px; background: var(--accent-blue); border-radius: 50%; box-shadow: 0 0 10px var(--accent-blue); opacity: 0; }
        @keyframes flyToBrain { 0% { transform: translate(var(--startX), var(--startY)); opacity: 0; } 20% { opacity: 1; } 100% { transform: translate(0, 0); opacity: 0; } }

        .circular-chart { max-width: 160px; }
        .circle-bg { fill: none; stroke: rgba(255,255,255,0.1); stroke-width: 2.8; }
        .circle { fill: none; stroke: var(--accent-blue); stroke-width: 2.8; stroke-linecap: round; transition: stroke-dasharray 1s ease; }
        .percentage { fill: #fff; font-size: 0.55rem; font-weight: 800; text-anchor: middle; }

        .model-badges { display: flex; gap: 15px; justify-content: center; margin-top: 25px; }
        .m-badge { 
            border: 1px solid var(--accent-blue); padding: 12px 22px; border-radius: 12px; 
            font-size: 1rem; transition: all 0.25s; opacity: 0.3; cursor: pointer; 
        }
        .m-badge:hover { opacity: 1; background: rgba(56, 189, 248, 0.25); box-shadow: 0 0 25px var(--accent-blue); transform: scale(1.12); color: #fff; }
        .m-badge.active-glow { opacity: 1; background: rgba(56, 189, 248, 0.25); box-shadow: 0 0 25px var(--accent-blue); transform: scale(1.15); color: #fff; }

        /* --- MODAL OPTIMIZADO: IMAGEN PROTAGONISTA --- */
        .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.9); display: flex; align-items: center; justify-content: center; z-index: 2000; opacity: 0; pointer-events: none; transition: opacity 0.3s ease; }
        .modal-overlay.show { opacity: 1; pointer-events: auto; }
        .modal { 
            background: #0f172a; color: #fff; width: 90%; max-width: 1000px; 
            border-radius: 20px; padding: 0; border: 1px solid var(--border); 
            position: relative; overflow: hidden; display: flex; flex-direction: column;
            box-shadow: 0 50px 100px rgba(0,0,0,0.8);
        }
        .modal-header { padding: 15px 30px; display: flex; justify-content: space-between; align-items: center; background: rgba(255,255,255,0.05); }
        .modal-title { font-size: 1.5rem; color: var(--accent-blue); font-weight: 800; }
        .modal-close { background: none; border: none; color: #fff; font-size: 2rem; cursor: pointer; }

        .modal-body { 
            padding: 30px; display: flex; flex-direction: column; align-items: center; 
            max-height: 85vh; overflow-y: auto; 
        }
        /* IMAGEN PROTAGONISTA */
        .modal-img { 
            width: auto; max-width: 100%; max-height: 45vh; 
            object-fit: contain; border-radius: 8px; margin-bottom: 25px; 
            box-shadow: 0 20px 50px rgba(0,0,0,0.5); 
            cursor: zoom-in; transition: all 0.4s ease;
        }
        /* EFECTO LUPA / ZOOM ACTIVO */
        .modal-img.zoomed {
            max-height: 75vh;
            width: 100%;
            cursor: zoom-out;
            box-shadow: 0 30px 80px rgba(0,0,0,0.8);
        }
        
        .modal-desc { 
            font-size: 1.1rem; line-height: 1.6; color: var(--text-dim); text-align: left; 
            width: 100%; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 20px;
        }

        /* --- NAVEGACI√ìN --- */
        .nav-arrow { position: fixed; top: 50%; transform: translateY(-50%); font-size: 3rem; color: #fff; opacity: 0.2; cursor: pointer; z-index: 1000; padding: 25px; transition: 0.3s; }
        .nav-arrow:hover { opacity: 1; color: var(--accent-blue); transform: translateY(-50%) scale(1.2); }
        .prev { left: 10px; } .next { right: 10px; }
        .progress-bar { position: fixed; bottom: 0; left: 0; height: 5px; background: var(--accent-blue); transition: width 0.4s ease; z-index: 1001; }

        /* L√ÅMINA 4: VIABILIDAD */
        .roi-bar-container { width: 100%; height: 12px; background: rgba(255,255,255,0.1); border-radius: 10px; margin-top: 15px; position: relative; overflow: hidden; }
        .roi-bar-fill { height: 100%; background: var(--accent-green); width: 0; transition: width 2s ease-out; box-shadow: 0 0 15px var(--accent-green); }
        .result-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; margin-top: 30px; }
        .viability-item { background: rgba(255,255,255,0.03); padding: 25px; border-radius: 20px; border: 1px solid var(--accent-blue); text-align: left; }
        /* Modal espec√≠fico para la l√°mina 0: m√°s gris y transl√∫cido */
        .modal.s0-modal { background: rgba(120,120,130,0.12); backdrop-filter: blur(6px); border: 1px solid rgba(255,255,255,0.06); }
    </style>
</head>
<body>

    <div class="progress-bar" id="progressBar"></div>
    <div class="nav-arrow prev" onclick="prevSlide(event)">&#10094;</div>
    <div class="nav-arrow next" onclick="nextSlide(event)">&#10095;</div>

    <div class="slide-wrapper">
        <div class="slide active" id="s0">
            <div class="content-card">
                <p class="institution">AIEP - Universidad Andr√©s Bello</p>
                <h1>Propuesta Innovaci√≥n Digital:<br>Gesti√≥n de Flotas con IoT</h1>
                <p style="color: var(--accent-blue); font-weight: 600;">Certificado de Especialidad V</p>
                <div class="meta-grid">
                    <div class="meta-item"><b>M√≥dulo</b> Certificado de Especialidad V</div>
                    <div class="meta-item"><b>Docente</b> Cesar Calderon Galaz</div>
                    <div class="meta-item"><b>Estudiante</b> Carlos Alegr√≠a Toloza</div>
                    <div class="meta-item"><b>Fecha</b> Diciembre 2025</div>
                </div>
            </div>
        </div>

        <div class="slide" id="s1">
            <div class="content-card" style="border-color: rgba(255, 71, 87, 0.3);">
                <span class="tag" style="color: var(--accent-red); font-weight: 800; letter-spacing: 2px; display:block; margin-bottom:10px;">Impacto de la Incertidumbre</span>
                <h2 style="color: #fff; margin-bottom: 20px;">¬øEstamos decidiendo a ciegas?</h2>
                <div class="problem-grid">
                    <div class="problem-item pulse">
                        <span style="font-size: 2rem;">‚ö†Ô∏è</span>
                        <div class="counter" data-target="20">0</div>
                        <p>P√©rdida de Margen</p>
                    </div>
                    <div class="problem-item pulse">
                        <span style="font-size: 2rem;">‚õΩ</span>
                        <div class="counter" data-target="15">0</div>
                        <p>Gasto Energ√©tico</p>
                    </div>
                    <div class="problem-item pulse">
                        <span style="font-size: 2rem;">üîß</span>
                        <div class="counter" data-target="40">0</div>
                        <p>Fallas Reactivas</p>
                    </div>
                </div>
                <div class="chart-container"><div class="falling-line"></div></div>
                <p style="margin-top: 20px; font-size: 1.1rem;">La falta de evidencia objetiva genera ineficiencias cr√≠ticas.</p>
            </div>
        </div>

        <div class="slide" id="s2">
            <div class="content-card" style="border-color: rgba(56, 189, 248, 0.3);">
                <span class="institution">Caracterizaci√≥n T√©cnica</span>
                <h2>Ecosistema de Captura y Seguridad</h2>
                <div class="flow-container">
                    <div class="node">üì°<br><b>OBD-II / GPS</b><br><span style="font-size: 0.7rem; color: var(--accent-blue);">Capas de Sensores</span></div>
                    <div class="connection-line">
                        <div class="data-packet"></div>
                        <div class="security-shield">üõ°Ô∏è</div>
                        <p style="position:absolute; bottom:-35px; width:100%; text-align:center; font-size:0.9rem; color: var(--accent-blue); font-weight: 700;">MQTT / TLS 1.3</p>
                    </div>
                    <div class="node">‚òÅÔ∏è<br><b>Plataforma IoT</b><br><span style="font-size: 0.7rem; color: var(--accent-blue);">Real-Time DB</span></div>
                </div>
                <div class="meta-grid" style="grid-template-columns: repeat(3, 1fr); text-align:center; margin-top: 50px;">
                    <div class="meta-item"><b>Autenticaci√≥n</b> MFA</div>
                    <div class="meta-item"><b>Protecci√≥n</b> AES-256</div>
                    <div class="meta-item"><b>Baja Latencia</b> Big Data</div>
                </div>
            </div>
        </div>

        <div class="slide" id="s3">
            <div class="content-card" style="border-color: rgba(56, 189, 248, 0.4);">
                <span class="institution">Inteligencia de Datos</span>
                <h2>Del Dato a la Decisi√≥n Automatizada</h2>
                <div class="neural-container">
                    <div id="data-particles-container"></div>
                    <div class="brain-node" id="main-brain">üß†</div>
                    <div class="prediction-box">
                        <svg viewBox="0 0 36 36" class="circular-chart">
                            <path class="circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                            <path class="circle" id="predCircle" stroke-dasharray="0, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                            <text x="18" y="20.35" class="percentage" id="predPercent">0%</text>
                        </svg>
                        <p style="font-size:0.9rem; color: var(--text-dim);">Precisi√≥n Predictiva</p>
                    </div>
                </div>
                <div class="model-badges">
                    <div class="m-badge" id="b1">Modelado de Datos</div>
                    <div class="m-badge" id="b2">Machine Learning</div>
                    <div class="m-badge" id="b3">Anal√≠tica Prescriptiva</div>
                </div>
                <p style="margin-top: 25px; font-size: 1rem; color: var(--text-dim);">Integraci√≥n s√≥lida de modelos de an√°lisis para la optimizaci√≥n continua.</p>
            </div>
        </div>

        <div class="slide" id="s4">
            <div class="content-card">
                <span class="institution">Conclusi√≥n Estrat√©gica</span>
                <h2>Viabilidad y Visi√≥n Industria 4.0</h2>
                <div class="result-grid">
                    <div class="viability-item">
                        <p><b>Impacto Econ√≥mico</b></p>
                        <p style="font-size: 0.9rem; color: var(--text-dim); margin-top: 5px;">Retorno de Inversi√≥n (ROI) Estimado</p>
                        <div class="roi-bar-container"><div class="roi-bar-fill" id="roiBar"></div></div>
                        <p style="margin-top: 10px; font-weight: 800; color: var(--accent-green);">12 Meses</p>
                    </div>
                    <div class="viability-item">
                        <p><b>Visi√≥n Estrat√©gica</b></p>
                        <p style="font-size: 0.9rem; color: var(--text-dim); margin-top: 5px;">Alineaci√≥n con Industria 4.0</p>
                        <ul style="font-size: 0.85rem; margin-top: 10px; list-style: none; color: var(--accent-blue);">
                            <li>‚úî Automatizaci√≥n de Procesos</li>
                            <li>‚úî Decisi√≥n Basada en Datos</li>
                            <li>‚úî Sostenibilidad Energ√©tica</li>
                        </ul>
                    </div>
                </div>
                <p style="margin-top: 30px; font-size: 1rem; color: var(--text-dim);">Propuesta t√©cnica y econ√≥micamente viable para la organizaci√≥n.</p>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="modalOverlay">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title" id="modalTitle">T√≠tulo</div>
                <button class="modal-close" id="modalClose">&times;</button>
            </div>
            <div class="modal-body">
                <img src="" alt="Visualizaci√≥n t√©cnica" class="modal-img" id="modalImg" title="Clic para ampliar">
                <div class="modal-desc" id="modalDesc">Descripci√≥n t√©cnica detallada.</div>
            </div>
        </div>
    </div>

    <script>
        let current = 0;
        const slides = document.querySelectorAll('.slide');
        const modalOverlayEl = document.getElementById('modalOverlay');
        const modalEl = modalOverlayEl ? modalOverlayEl.querySelector('.modal') : null;

        // RECURSOS RESTAURADOS CON IM√ÅGENES LOCALES
        // Aseg√∫rate de tener estas im√°genes en tu carpeta "assets" o cambiar la ruta
        const resources = {
            b1: {
                title: 'Modelado de Datos (ETL)',
                img: 'assets/modelo_de_datos.png', 
                desc: 'Fase cr√≠tica donde los datos crudos de telemetr√≠a (JSON) son procesados y normalizados. Se establecen estructuras de tiempo-serie para el an√°lisis hist√≥rico y la limpieza de ruidos en las se√±ales de los sensores OBD-II, garantizando calidad de datos.'
            },
            b2: {
                title: 'Machine Learning',
                img: 'assets/machine_learning.png',
                desc: 'Implementaci√≥n de algoritmos de detecci√≥n de anomal√≠as y bosques aleatorios (Random Forest). El modelo aprende patrones de desgaste mec√°nico y temperatura para predecir fallas cr√≠ticas con un 98% de exactitud.'
            },
            b3: {
                title: 'Anal√≠tica Prescriptiva',
                img: 'assets/analisis_prescriptivo.png',
                desc: 'El nivel m√°s alto de madurez anal√≠tica. El sistema no solo predice una falla, sino que prescribe autom√°ticamente una ruta hacia el taller m√°s cercano y genera una orden de mantenimiento preventiva, cerrando el ciclo de automatizaci√≥n.'
            }
        };

        function showSlide(index) {
            slides.forEach((s, i) => s.classList.toggle('active', i === index));
            current = index;
            document.getElementById('progressBar').style.width = ((current + 1) / slides.length * 100) + '%';
            // Aplicar estilo de modal trasl√∫cido solo en la l√°mina 0
            if(modalEl){
                if(index === 0) modalEl.classList.add('s0-modal');
                else modalEl.classList.remove('s0-modal');
            }
            if(index === 1) animateCounters();
            if(index === 3) animateS3();
            if(index === 4) setTimeout(() => document.getElementById('roiBar').style.width = '100%', 500);
        }

        function animateCounters() {
            document.querySelectorAll('.counter').forEach(c => {
                const target = +c.getAttribute('data-target');
                let count = 0;
                const int = setInterval(() => { if(count < target){ count++; c.innerText = count; } else clearInterval(int); }, 50);
            });
        }

        function animateS3() {
            // Part√≠culas
            const container = document.getElementById('data-particles-container');
            container.innerHTML = '';
            for(let i=0; i<30; i++) {
                const p = document.createElement('div');
                p.className = 'particle';
                p.style.setProperty('--startX', (Math.random() - 0.5) * 800 + 'px');
                p.style.setProperty('--startY', (Math.random() - 0.5) * 500 + 'px');
                p.style.animation = `flyToBrain ${1 + Math.random()}s infinite ease-in`;
                container.appendChild(p);
            }
            // C√≠rculo
            let p = 0;
            const int = setInterval(() => {
                if(p < 98) { p++; 
                    document.getElementById('predPercent').textContent = p + '%';
                    document.getElementById('predCircle').setAttribute('stroke-dasharray', `${p}, 100`);
                } else clearInterval(int);
            }, 30);
            
            // Animaci√≥n secuencial de badges
            const badges = ['b1', 'b2', 'b3'];
            badges.forEach(id => document.getElementById(id).classList.remove('active-glow'));
            let delay = 800;
            badges.forEach(id => {
                setTimeout(() => {
                    document.getElementById(id).classList.add('active-glow');
                }, delay);
                delay += 800;
            });
        }

        // --- L√ìGICA DEL MODAL PROTAGONISTA Y ZOOM ---
        const modalImg = document.getElementById('modalImg');

        document.querySelectorAll('.m-badge').forEach(badge => {
            badge.addEventListener('click', (e) => {
                const res = resources[e.target.id];
                document.getElementById('modalTitle').textContent = res.title;
                modalImg.src = res.img;
                modalImg.classList.remove('zoomed'); // Reset zoom
                document.getElementById('modalDesc').textContent = res.desc;
                document.getElementById('modalOverlay').classList.add('show');
            });
        });

        // Alternar Zoom al hacer clic en la imagen
        modalImg.addEventListener('click', () => {
            modalImg.classList.toggle('zoomed');
        });

        document.getElementById('modalClose').addEventListener('click', () => {
            document.getElementById('modalOverlay').classList.remove('show');
        });

        function nextSlide(e) { if(e) e.stopPropagation(); current = (current + 1) % slides.length; showSlide(current); }
        function prevSlide(e) { if(e) e.stopPropagation(); current = (current - 1 + slides.length) % slides.length; showSlide(current); }

        document.addEventListener('keydown', (e) => {
            if (document.getElementById('modalOverlay').classList.contains('show')) {
                if(e.key === 'Escape') document.getElementById('modalOverlay').classList.remove('show');
                return; 
            }
            if(e.key === 'ArrowRight' || e.key === ' ') nextSlide();
            if(e.key === 'ArrowLeft') prevSlide();
        });
    </script>
</body>
</html>